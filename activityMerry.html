<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>圣诞活动</title>
		<link type="text/css" rel="stylesheet" href="css/screen.css" />
		<link type="text/css" rel="stylesheet" href="css/style.css" />
		<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
    </head>
    <body style="background:#f9f9f9;">
    	<div class="wrapBox">
	    	<div class="topDiv">
	    		<div class="topBox clearfix">
	    			<div class="topLeft left">
	    				<p class="left">客服热线：</p>
	    				<img src="images/iphone.png" height="18" width="128">
	    				<span>(工作日9:00 - 18:00)  </span>
	    			</div>
	    			<div class="topRight right">
	    				<ul>
	    					<li class="act"><a href="login.html">登录</a></li>
	    					<li class="act"><a href="register.html">免费注册</a></li>
	    					<li><a href="#">我的账户</a></li>
	    					<li><a href="#">帮助中心</a></li>
	    					<li><a href="#">联系我们</a></li>
	    				</ul>
	    			</div>
	    		</div>
	    	</div>
	    	<div class="header">
	    		<div class="inHeader clearfix">
	    			<img class="left" src="images/logo.png" height="64" width="367">
	    			<ul class="right navList">
	    				<li><a href="index.html">首页</a></li>
	    				<li><a href="invest.html">我要投资</a></li>
	    				<li class="current"><a href="activity.html">悠兔活动</a></li>
	    				<li><a href="gotoU2.html" >走进悠兔</a></li>
	    			</ul>
	    		</div>
	    	</div>

			<div class="merryBanner">
				<div class="merryCount"><p class="countP">5</p></div>
			</div>
			<div class="snowMain">
				<canvas id="myCanva" class="myCanvas" >您的手机不支持canvas</canvas>
				<div class="snow">
					<div class="snowPeoper"></div>
					<div class="treeLeft"></div>
					<div class="treeRight"></div>
					<div class="handBox">
						<div class="arm"></div>
						<div class="arm_hand"></div>
						<div class="snowBall">
							<div class="btn_play"></div>
						</div>
						<div class="boom"></div>
					</div>
				</div>
				<div class="merry_welfare">
					<div class="welfareList">
						<ul class="listUl">
							<li>
								<p>138****4687</p>
								<p>获得1000体验金</p>
							</li>
							<li>
								<p>138****4687</p>
								<p>获得1000体验金</p>
							</li>
							<li>
								<p>138****4687</p>
								<p>获得1000体验金</p>
							</li>
							<li>
								<p>138****4687</p>
								<p>获得1000体验金</p>
							</li>
							<li>
								<p>138****4687</p>
								<p>获得1000体验金</p>
							</li>
							<li>
								<p>138****4687</p>
								<p>获得1000体验金</p>
							</li>
						</ul>
						<ul class="cloneDiv"></ul>
					</div>
				</div>
				<div class="merry_rule"></div>
				<div class="myMerry">
					<div class="myMerList">
						<div class="merTop">
							<p>奖品</p>
							<p>获奖时间</p>
						</div>
						<div class="merMain">
							<ul>
								<li>
									<!--<p>10000元体验金</p>
									<p>2016.11.23</p>-->
									<p>暂无数据</p>
								</li>
								<!--<li>
									<p>10000元体验金</p>
									<p>2016.11.23</p>
								</li>
								<li>
									<p>10000元体验金</p>
									<p>2016.11.23</p>
								</li>
								<li>
									<p>10000元体验金</p>
									<p>2016.11.23</p>
								</li>
								<li>
									<p>10000元体验金</p>
									<p>2016.11.23</p>
								</li>
								<li>
									<p>10000元体验金</p>
									<p>2016.11.23</p>
								</li>-->
							</ul>
							<div class="merFot">
								<ol class="clearfix">
									<li></li>
									<li class="current">1</li>
									<li>2</li>
									<li>3</li>
									<li></li>
								</ol>
							</div>
						</div>

					</div>
				</div>

			</div>
			<div class="merry_fot">
				<p>本次活动与苹果公司无关，最终解释权归悠兔理财所有</p>
			</div>
			<div class="footerBox">
				<div class="footerMa clearfix">
					<div class="footerLf left">
						<p>400-820-3122</p>
						<span class="pl-1">客服热线 (工作日：9:00 - 18:00) </span>
					</div>
					<div class="footerCt left">
						<div class="pl-8-5 footerCtP mb-2">
							关注我们:
							<a href="javascript:;" class="ml-1 weibo"><img src="images/weibo.png"></a>
							<a href="javascript:;" class="ml-1 weChat">
								<img src="images/weixin.png">
								<div class="weChatDiv">
									<img src="images/u2erweima.png" />
									<p>关注订阅号</p>
								</div>
							</a>

						</div>
						<ul class="clearfix pl-8-5">
							<li><a href="javascript:;">帮助中心</a></li>
							<li><a href="javascript:;">联系我们</a></li>
							<li><a href="javascript:;">走进悠兔</a></li>
						</ul>
					</div>
					<div class="footerRt left">
						<div class="download">
							<a href="appDownload.html">
								<i></i>
								<p>下载悠兔理财APP</p>
							</a>

						</div>
					</div>
				</div>
				<div class="copyRight">
					<p>沪ICP备16007640号-2 | Copyright © 2016 u2licai. All rights reserved</p>
				</div>
			</div>

			<!--右边的悬浮按钮-->
			<div class="baseRight">
				<ul>
					<li>
						<a href="javascript:;">
							<dl>
								<dt></dt>
								<dd>计算器</dd>
							</dl>
						</a>

					</li>
					<li>
						<a href="javascript:;">
							<dl>
								<dt></dt>
								<dd>APP下载</dd>
							</dl>
						</a>
					</li>
					<li>
						<a href="javascript:;">
							<dl>
								<dt></dt>
								<dd>意见反馈</dd>
							</dl>
						</a>
					</li>
					<!--<li>
						<a href="javascript:;">
							<dl>
								<dt></dt>
								<dd>联系客服</dd>
							</dl>
						</a>
					</li>-->
					<li class="topto" style="display:none;">
						<dl>
							<dt></dt>
							<dd>回到顶部</dd>
						</dl>
					</li>
				</ul>
			</div>


			<!--弹窗的结构代码-->
			<div class="merryLayer">
				<div class="merryLayerBox">
					<p>10000元体验金</p>
					<a href="javascript:;" class="btn1">确 定</a>
				</div>
			</div>

			<div class="none_merry">
				<div class="none_Box">
					<p>您的次数已用完！</p>
					<a href="javascript:;" class="btn2">确 定</a>
				</div>
			</div>


    	</div>
    <script type="text/javascript" src="/js/sea/sea.js"></script>
    <script type="text/javascript" src="/js/sea-config.js"></script>
    <script type="text/javascript">
		$(function() {
			seajs.use(['style'],function(obj){
				obj.baseSide();
			})
		});

		//飘雪代码
		(function(){
			//树叶的总个数
			var count = 25;
			//获取随机数
			function Random(s,e){return Math.random()*(e-s)+s;};
			//循环创建树叶的dom元素
			var fragment = document.createDocumentFragment();
			for(var i = 0 ; i < count; i ++) {
				var div = document.createElement("div");
				div.className = 'leaves';
				div.innerHTML = '<img src="images/merry/img'+(Math.round(Random(1,2)))+'.png" alt="">';
				fragment.appendChild (div);
			};

			document.body.appendChild(fragment);

			var leaves = document.querySelectorAll('.leaves');
			[].forEach.call(leaves,function(o,i){
				var time1 = Random(5,15);
				var time2 = Random(1,3);
				var time3 = Random(3,50);
				//随机设置left，根据浏览器宽度设置最大值
				var clientLeft =  Random(0,(document.body.clientWidth-100));
				o.style.left = clientLeft+'px';
				//设置animation属性，为了兼容添加了前缀，总共时间和延时时间随机获取
				o.style.animation = o.style.WebkitAnimation = o.style.MozAnimation = o.style.OAnimation= o.style.MsAnimation='fade '+time1+'s '+ time2+'s linear infinite,move '+time1+'s '+ time2+'s linear infinite';
				//设置里面图片的animation属性，设置时间，并设置翻转
				o.children[0].style.animation = o.children[0].style.MozAnimation = o.children[0].style.OAnimation = o.children[0].style.MsAnimation = o.children[0].style.WebkitAnimation = Math.round(Random(0,1)) ? 'rotate '+time3+'s ease-in-out infinite alternate' : 'rotate1 '+time3+'s ease-in-out infinite alternate';
			})
		})();

		//获奖名单自动滚动
		var welfareList = document.querySelector('.welfareList');
		var listUl = document.querySelector('.listUl');
		var cloneDiv = document.querySelector('.cloneDiv');

		cloneDiv.innerHTML = listUl.innerHTML;
		var timer = setInterval(function scrollDiv(){
			if(welfareList.scrollTop>=listUl.offsetHeight){
				welfareList.scrollTop=0;
			}
			else{
				welfareList.scrollTop=welfareList.scrollTop+1;
			}
		},100)



		//点击执行动画部分
		var snowBall = document.querySelector('.snowBall');
		var arm_hand = document.querySelector('.arm_hand');
		var btn_play = document.querySelector('.btn_play');
		var treeLeft = document.querySelector('.treeLeft');
		var treeRight = document.querySelector('.treeRight');
		var countP = document.querySelector('.countP');
		var handBox = document.querySelector('.handBox');
		var merryLayer = document.querySelector('.merryLayer');
		var none_merry = document.querySelector('.none_merry');
		var btn1 = document.querySelector('.btn1');
		var btn2 = document.querySelector('.btn2');
		var boom = document.querySelector('.boom');

		//小球爆炸的效果代码
		//定义另个变量用来绘制小球
		var aDiv=[];
		var oDiv=null;

		function show(){
			var oDiv=null;
			for(var i=0;i<35;i++)
			{
				oDiv=document.createElement('div');
				oDiv.style.width='12px';
				oDiv.style.height='12px';
				oDiv.style.borderRadius='50%';
				//oDiv.style.background='#'+Math.ceil(Math.random()*0xEFFFFF+0x0FFFFF).toString(16);
				oDiv.style.background='#fff';
				oDiv.style.position='absolute';
				oDiv.style.left=440+'px';
				oDiv.style.top=160+'px';
				var a=Math.random()*360;
				//oDiv.speedX=Math.random()*40-20;
				//oDiv.speedY=Math.random()*40-20;
				oDiv.speedX=Math.sin(a*180/Math.PI)*20*Math.random();
				oDiv.speedY=Math.cos(a*180/Math.PI)*20*Math.random();

				boom.appendChild(oDiv);
				aDiv.push(oDiv);
			}
			console.log(aDiv)
		}
		setInterval(doMove, 30);
		function doMove(){
			for(var i=0;i<aDiv.length;i++)
			{
				aDiv[i].style.left=aDiv[i].offsetLeft+aDiv[i].speedX+'px';
				aDiv[i].style.top=aDiv[i].offsetTop+aDiv[i].speedY+'px';
				aDiv[i].speedY+=1;
				if(aDiv[i].offsetLeft<0 || aDiv[i].offsetLeft> document.documentElement.clientWidth || aDiv[i].offsetTop<0 || aDiv[i].offsetTop> document.documentElement.clientHeight)
				{
					boom.removeChild(aDiv[i]);
					aDiv.splice(i, 1);
				}
			}
		}

		var num = countP.innerHTML;
		//alert(num)
		//点击事件
		snowBall.onclick =function(){
			if(num>0){
				//还有多少次的代码
				num--;1
				countP.innerHTML = num;


				handBox.style.animationPlayState=handBox.style.WebkitAnimationPlayState=handBox.style.MozAnimationPlayState=handBox.style.MsAnimationPlayState=handBox.style.OAnimationPlayState="paused";
				arm_hand.style.transform = arm_hand.style.WebkitTransform = arm_hand.style.MozTransform = arm_hand.style.MsTransform = arm_hand.style.OTransform ="rotateY(55deg) translateX(-28px)";
				btn_play.style.display = 'none';
				snowBall.style.transform = snowBall.style.WebkitTransform = snowBall.style.MozTransform = snowBall.style.MsTransform = snowBall.style.OTransform = "rotateY(45deg)";

				//snowBall.style.animationPlayState=snowBall.style.webkitAnimationPlayState=snowBall.style.mozAnimationPlayState=snowBall.style.msAnimationPlayState=snowBall.style.oAnimationPlayState="paused";
				//snowBall.style.animationPlayState=snowBall.style.webkitAnimationPlayState=snowBall.style.mozAnimationPlayState=snowBall.style.msAnimationPlayState=snowBall.style.oAnimationPlayState="running";
				//snowBall.style.animation = snowBall.style.WebkitAnimation = snowBall.style.MozAnimation = snowBall.style.MsAnimation = snowBall.style.OAnimation = 'ballMove 0.7s linear forwards '
				$('.snowBall').addClass('donghua');
				setTimeout(show,950);



				//兼容的函数
				var pfx = ["webkit", "moz", "MS", "o", ""];
				function PrefixedEvent(element, type, callback) {
					for (var p = 0; p < pfx.length; p++) {
						if (!pfx[p]) type = type.toLowerCase();
						element.addEventListener(pfx[p]+type, callback, false);
					}
				}

				var m=0
				PrefixedEvent(snowBall,"AnimationEnd",function(){
					m++;
					if(m==1){

						setTimeout(function(){
							snowBall.style.display = 'none';
							treeLeft.style.transform = treeLeft.style.WebkitTransform =treeLeft.style.MozTransform =treeLeft.style.MsTransform =treeLeft.style.OTransform ='rotate(-20deg)';
							treeRight.style.transform = treeRight.style.webkitTransform =treeRight.style.mozTransform =treeRight.style.msTransform =treeRight.style.oTransform ='rotate(20deg)';
						},30)

					}
				})

				var n = 0;
				PrefixedEvent(treeLeft, 'transitionend', function(){
					n++;
					if(n==1){
						setTimeout(function(){
							snowBall.style.transform = snowBall.style.WebkitTransform = snowBall.style.MozTransform = snowBall.style.MsTransform = snowBall.style.OTransform = "rotateY(0deg)";

							merryLayer.style.display = 'block';
							snowBall.style.display = 'block';
							btn_play.style.display = 'block';
							$('.snowBall').removeClass('donghua');

							arm_hand.style.transform = arm_hand.style.webkitTransform =arm_hand.style.mozTransform =arm_hand.style.msTransform = arm_hand.style.oTransform ="rotateY(0deg) translate(0px)";
							handBox.style.animationPlayState=handBox.style.webkitAnimationPlayState=handBox.style.mozAnimationPlayState=handBox.style.msAnimationPlayState=handBox.style.oAnimationPlayState="running";
							treeLeft.style.transform = treeLeft.style.webkitTransform = treeLeft.style.mozTransform = treeLeft.style.msTransform = treeLeft.style.oTransform ='rotate(0deg)';
							treeRight.style.transform = treeRight.style.webkitTransform =treeRight.style.mozTransform =treeRight.style.msTransform =treeRight.style.oTransform ='rotate(0deg)';

						},300)
					}
				})
			}else{
				none_merry.style.display = 'block';
			}
		}

		btn1.onclick  = function(){
			merryLayer.style.display = 'none';
		}

		btn2.onclick = function(){
			none_merry.style.display = 'none';
		}

    </script>
    </body>
</html>